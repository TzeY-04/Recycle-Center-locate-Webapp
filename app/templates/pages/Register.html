{% extends "pages/content_block.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'styles/register-styles.css' %}">

<div class="container mt-5">
  <div class="card shadow-sm rounded p-4">
    <h2 class="mb-3 text-center">Registration</h2>
    <form action="Register" method="POST" class="needs-validation register_form" novalidate>
      {% csrf_token %}

      <div class="mb-2">
        <label for="id_id" class="form-label">ID <span class="text-danger">*</span></label>
        {{ form.ID }}
        <div class="invalid-feedback">ID is required.</div>
      </div>

      <div class="mb-2">
        <label for="id_name" class="form-label">Name <span class="text-danger">*</span></label>
        {{ form.name }}
        <div class="invalid-feedback">Name is required.</div>
      </div>

      <div class="mb-2">
        <label for="id_password" class="form-label">Password <span class="text-danger">*</span></label>
        {{ form.password }}
        <div class="invalid-feedback">Password is required.</div>
      </div>

      <div class="mb-2">
        <label for="id_confirm_password" class="form-label">Confirm Password <span class="text-danger">*</span></label>
        {{ form.confirm_password }}
        <div class="invalid-feedback">Please confirm your password.</div>
      </div>

      <div class="d-grid mb-2">
        <button class="btn btn-success" type="submit">Register</button>
      </div>

      <p class="text text-danger">{{ error_message }}</p>
    </form>

    <div class="text-center mt-2">
      <a href="{% url 'home' %}?actor={{ actor }}" class="guest">Visit as guest</a>
    </div>
  </div>
</div>

<div class="mascot-wrapper">
  <div class="mascot-container">
    <div class="earth-mascot"></div>
    <div class="speech-bubble">Welcome to the community!</div>
  </div>
</div>

<script>
  (() => {
    const form = document.querySelector('.needs-validation');
    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
      }
      form.classList.add('was-validated');
    });
  })();
</script>

{% endblock content %}